{
  "size": 36,
  "filter": {
    "hamming": {
      "field": "ImageHash.phash.raw",
      "hashes": [ "17161f1f3fbaa180" ],
      "minScore": 10
    }
  },
  "baggs": {
    "phash Agg": {
      "filter" : {
        "script" : {
          "script" : {
            "inline" : "hammingDistance",
            "lang" : "native",
            "params" : {
              "field" : "ImageHash.phash",
              "hashes" : [ "ff5e071607960716", "17161f1f3fbaa180" ],
              "minScore": 0
            }
          }
        }
      }
    },
    "whash Agg": {
      "filter" : {
        "script" : {
          "script" : {
            "inline" : "hammingDistance",
            "lang" : "native",
            "params" : {
              "field" : "ImageHash.whash",
              "hashes" : [ "0035bda9b5a1b5b5" ],
              "minScore": 0
            }
          }
        }
      }
    }
  }
}
